### 路径属性
- 任何一条 BGP 路由都拥有名个路径属性（Path Attributes)，当路由器将 BGP 路由通告给它的对等体时，一并被通告的还有路由所携带的各个路径属性，如 图7-14 所示。以现实生活中的房子为例，每套房子都有各种属性，例如房子的总面积、房间数量、装修的家华程度、楼层高度、房子的朝向以及周边配套设施等。在购买一套房子的时候，每个人心中自然是有自己的想法和需求，当然，房子的各项属性都有可能会影响购房者的购买决策。对于 BGP 而言，BGP 路径属性描述了该条路由的各项特征，同时，路由所携带的路径属性也将在某些场景下影响 BGP 路由优选的决策。
![7.14](../pics/7.14.png) 
- BGP 设计了丰富的路径属性，每条 BGP 路由都携带着多个路径属性，这些路径属性都有各自的定义及功能。当 BGP 发现了多条到达同一个目的网段的路由（或者说路径）时，每条 BGP 路由的路径属性值将会作为该路由是合被优选的依据，BGP 將按照一定的规则进行决策，最終在这些路由中选择一条最优的路由。当然我们可以根据实际业务需要，对BGP 路由的路径属性进行修改，从而影响 BGP 路由优选的决策。BGP 提供了丰富了路由策略工具，使得我们针对路由的路径属性的操控更加地灵活和便捷。
- RFC 4271 将 BGP 路径属性分为两大类: 公认（Well-known）及可选 (Optional),其中公认属性是所有 BGP 路由器必须都能够识别的路径属性，而可选属性则不要求所有的 BGP 路由器都必须能够识别。
- 公认属性里分了两个子类: 强制（Mandatory）及自由决定 (Discretionary），其中强制属性指的是当 BGP 路由器使用 Update 报文通告路由更新时必须携带的路径属性，而自由决定属性则不要求 Update 报文中必须携带。
- 可选属性里也分了两个子类: 传递（Transitive）及非可传递 (Non-transitive），其中对于传递属性，如果 BGP 路由器不能够识别该路径属性，那么也应该接受携带该路径属性的 BGP 路由更新，并且当路由器将该路由通告给其他对等体时必须携带该路径属性，而对于非可传递属性，如果 BGP 路由器不能够识别该属性，那么该路由器将会忽略携带该路径属性的 BGP 路由更新且不将该路由通告其他 BGP 对等体。综上，BGP 路径属性可分为 4 种类型，每种类型中包含的路径属性如下:
  - 公认强制(Well-known Mandatory)
    - Origin
    - AS Path
    - Next Hop
  -  公认自由决定 (Well-known Discretionary)
    - Local Preference
    - Atomic_Aggregate
  - 可选传递(Optional Transitive)
    - Community
    - Aggregator
   - 可选非传递 (Optional Non-transitive)
    - MED
    - Originator_ID
    - Cluster List
- 本章学习目标:
  - 理解 Preferred Value 属性
  - 理解 Local Preference 属性
  - 理解 AS_ Path 属性
  - 理解 Origin 属性
  - 理解 MED 属性
  - 理解 Next Hop 属性
  - 理解 Atomic Aggregat
